# post_api
Тестовое задание для компании «Квартирка»

## Требования:

Реализовать REST API для системы комментариев блога ☑

##### Функциональные требования:
У системы должны быть методы API, которые обеспечивают:
- Добавление статьи (Можно чисто номинально, как сущность, к которой крепятся комментарии)☑
- Добавление комментария к статье☑
- Добавление коментария в ответ на другой комментарий (возможна любая вложенность)☑
- Получение всех комментариев к статье вплоть до 3 уровня вложенности☑
- Получение всех вложенных комментариев для комментария 3 уровня☑
- По ответу API комментариев можно воссоздать древовидную структуру☑

##### Нефункциональные требования:
- Использование Django ORM☑
- Следование принципам REST☑
- Число запросов к базе данных не должно напрямую зависеть от количества комментариев, уровня вложенности☑
- Решение в виде репозитория на Github, Gitlab или Bitbucket☑
- readme, в котором указано, как собирать и запускать проект. Зависимости указать в requirements.txt либо использовать poetry/pipenv☑
- Использование свежих версий python и Django☑

## Установка:
Клонируем репозиторий на локальную машину:

    git clone https://github.com/Railkhayrullin/post_api.git

Переходим в папку с проектом.

    cd post_api

Запускаем сборку docker-compose.

    docker-compose build --no-cache

## Запуск
Запускаем docker-compose.

    docker-compose up
  
Для возможности создания статей и комментариев необходимо авторизоваться.

|   Login    |  Password  | Страница авторизации  |
| ---------- | -----------|-----------------------|
|`test_admin`|`test_admin`|`127.0.0.1:8000/admin/`|

Доступны следующие страницы:

|   Страница    |  Описание   |
| ------------- | --------------------|
|`http://127.0.0.1:8000/swagger/`|Swagger документация|
|`http://127.0.0.1:8000/redoc/`|Redoc документация|
|`127.0.0.1:8000/api`|Base URL|
|`/comment/create/`|Создание комментария|
|`/comment/{post_id}/`|Просмотр всех комментариев к выбранной статье|
|`/comment/{post_id}/?level=int`|Просмотр комментариев к выбранной статье с уровнем не выше int|
|`/post/`|Список статей|
|`/post/create/`|Создание статьи|
|`/post/{id}/`|Просмотр конкретной статьи с комментариями|

#### Дополнительно
Для включения/отключения вывода комментариев при просмотре конкретной статьи по адресу `/post/{id}/`  
изменить значение переменной `post_api/settings.py/ADD_COMMENTS_TO_POST`.

#### Использовано:
- Python 3.9.5
- Django 3.2.6
- Django Rest Framework 3.12.4
